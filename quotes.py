from fyers_apiv3 import fyersModel
import pandas as pd
import datetime as dt
with open('access.txt','r') as a:
    access_token=a.read()
client_id = '3QYQX7SV2R-100'





# Initialize the FyersModel instance with your client_id, access_token, and enable async mode
fyers = fyersModel.FyersModel(client_id=client_id, is_async=False, token=access_token, log_path="")

#quotes data

data = {
    "symbols":("NSE:GODREJCP-EQ,NSE:SCHAEFFLER-EQ,NSE:CORALFINAC-BE,NSE:676MP40-SG,NSE:688WB40-SG,NSE:ORICONENT-EQ,NSE:SETFNIF50-EQ,NSE:68TS50-SG,NSE:BALKRISHNA-BE,NSE:781TN52-SG,NSE:SHYAMCENT-BE,NSE:753AS27-SG,NSE:782GJ32-SG,NSE:785AS32-SG,NSE:785MP32-SG,NSE:ICICM58-M1,NSE:786HR32-SG,NSE:793AP33-SG,NSE:793TS34-SG,NSE:794HR34-SG,NSE:794AP34-SG,NSE:793TS35-SG,NSE:794TS36-SG,NSE:796WB37-SG,NSE:795AP38-SG,NSE:795AP39-SG,NSE:795AP40-SG,NSE:ADANIENSOL-EQ,NSE:792AP42-SG,NSE:781RJ47-SG,NSE:FEDERALBNK-EQ,NSE:MANORAMA-BE,NSE:SGBJUN30-GB,NSE:765GJ29-SG,NSE:765TN29-SG,NSE:776HP30-SG,NSE:CONFIPET-EQ,NSE:SYNGENE-EQ,NSE:782AS32-SG,NSE:782HP32-SG,NSE:782WB32-SG,NSE:EMKAYTOOLS-SM,NSE:795AP40A-SG,NSE:792AP42A-SG,NSE:SGBJUN27-GB,NSE:804PN42-SG,NSE:791TS43-SG,NSE:79TS44-SG,NSE:792TS45-SG,NSE:KAYA-EQ,NSE:NGLFINE-EQ,NSE:AYMSYNTEX-EQ,NSE:KCK-SM,NSE:PPL-EQ,NSE:AARON-EQ,NSE:RAMASTEEL-EQ,NSE:AURUM-EQ,NSE:MWL-SM,NSE:PKTEA-EQ,NSE:SKP-SM,NSE:778ML31-SG,NSE:781HR32A-SG,NSE:79HR34-SG,NSE:794PN42-SG,NSE:789TS34-SG,NSE:797AP39-SG,NSE:792AP41-SG,NSE:787TN33-SG,NSE:RADHIKAJWE-EQ,NSE:CSLFINANCE-EQ,NSE:803AP36-SG,NSE:783AS32-SG,NSE:78GJ32A-SG,NSE:783MN32-SG,NSE:MODTHREAD-BE,NSE:802MZ36-SG,NSE:FINCABLES-EQ,NSE:798RJ42-SG,NSE:795TS35-SG,NSE:802AP38-SG,NSE:802WB37-SG,NSE:801WB41-SG,NSE:785PN32-SG,NSE:JISLJALEQS-EQ,NSE:SHAREINDIA-EQ,NSE:STEELCITY-EQ,NSE:FINPIPE-EQ,NSE:KSHITIJPOL-BE,NSE:MUTHOOTCAP-EQ,NSE:DYCL-EQ,NSE:OSEINTRUST-IV,NSE:AXISBNKETF-EQ,NSE:LUPIN-EQ,NSE:MCDOWELL-N-EQ,NSE:764TN29-SG,NSE:SATIN-EQ,NSE:797WB42-SG,NSE:ARVSMART-EQ,NSE:779AP31-SG,NSE:777GJ32-SG,NSE:78TN32A-SG,NSE:781HR32B-SG,NSE:781RJ32-SG,NSE:782NL32-SG,NSE:782SK32-SG,NSE:804AP37-SG,NSE:POWERMECH-EQ,NSE:805RJ37-SG,NSE:806JK37-SG,NSE:807WB38-SG,NSE:797HR42-SG,NSE:797RJ42-SG,NSE:RAMRAT-EQ,NSE:AGNI-SM,NSE:H1158D46DD-MF,NSE:H1158D46DG-MF,NSE:H1158D46DQ-MF,NSE:H1158D46RD-MF,NSE:H1158D46RG-MF,NSE:H1158D46RQ-MF,NSE:MOHEALTH-EQ,NSE:UTINIFTETF-EQ,NSE:CONS-EQ,NSE:UTISENSETF-EQ,NSE:694ML25-SG,NSE:782RJ44-SG,NSE:757HP31-SG,NSE:772AP34-SG,NSE:768AS32-SG,NSE:765BR32-SG,NSE:UFLEX-EQ,NSE:SHARDAMOTR-EQ,NSE:761GJ32-SG,NSE:785KL35-SG,NSE:515GS2025-GS,NSE:774MZ33-SG,NSE:767NL32-SG,NSE:765RJ32-SG,NSE:764TN32-SG,NSE:784TS36-SG,NSE:789HP37-SG,NSE:789WB37-SG,NSE:782AP42-SG,NSE:NAVKARCORP-EQ,NSE:782PN42-SG,NSE:743HP28-SG,NSE:RAMAPHO-EQ,NSE:NIFTYBEES-EQ,NSE:KRBL-EQ,NSE:MPSLTD-EQ,NSE:MARKSANS-EQ,NSE:TCI-EQ,NSE:MOM30IETF-EQ,NSE:SHREEPUSHK-EQ,NSE:LOYALTEX-EQ,NSE:GUJGASLTD-EQ,NSE:BHARTIARTL-EQ,NSE:USASEEDS-SM,NSE:SADBHIN-EQ,NSE:HDFCNEXT50-EQ,NSE:1013DLSL24-NF,NSE:1061DLSL24-NG,NSE:HDFCNIF100-EQ,NSE:ASAL-EQ,NSE:OLECTRA-EQ,NSE:777RJ32-SG,NSE:797AP36-SG,NSE:795HR37-SG,NSE:795TS37-SG,NSE:796AP40-SG,NSE:793TN42-SG,NSE:793RJ45-SG,NSE:754AS28-SG,NSE:774AP31-SG,NSE:773GJ32-SG,NSE:775TN32-SG,NSE:777HR32-SG,NSE:DLSLNIFT24-NH,NSE:PONNIERODE-EQ,NSE:PNB-EQ,NSE:MNC-EQ,NSE:SHAIVAL-ST,NSE:NIFTYQLITY-EQ,NSE:MOMENTUM-EQ,NSE:512BR24-SG,NSE:VEEKAYEM-SM,NSE:772AP35-SG,NSE:774AP38-SG,NSE:76TN32-SG,NSE:765BR32A-SG,NSE:726GS2032-GS,NSE:INFRAIETF-EQ,NSE:INDIAMART-EQ,NSE:FOSECOIND-EQ,NSE:SPORTKING-EQ,NSE:711NTPC25A-N8,NSE:OFSS-EQ,NSE:655GA30-SG,NSE:728NTPC30B-N9,NSE:737NTPC35C-NA,NSE:736NTPC25D-NB,NSE:753NTPC30E-NC,NSE:65GJ30-SG,NSE:762NTPC35F-ND,NSE:UNIONBANK-EQ,NSE:APTECHT-EQ,NSE:HIGHWAYS-IV,NSE:ZENSARTECH-EQ,NSE:SILVERADD-EQ,NSE:765AS32-SG,NSE:OAL-EQ,NSE:659HR30-SG,NSE:AHIMSA-ST,NSE:766UP32-SG,NSE:776KL38-SG,NSE:775PN42-SG,NSE:774TS45-SG,NSE:774TS46-SG,NSE:NUCLEUS-EQ,NSE:SYRMA-EQ,NSE:CANBK-EQ,NSE:647KA30-SG,NSE:MOQUALITY-EQ,NSE:MOVALUE-EQ,NSE:661RJ30-SG,NSE:SEYAIND-BE,NSE:HDFC1406DD-MF,NSE:HDFC1406DG-MF,NSE:66SK30-SG,NSE:HDFC1406DQ-MF,NSE:HDFC1406RD-MF,NSE:HDFC1406RG-MF,NSE:HDFC1406RQ-MF,NSE:77TN42-SG,NSE:771KL42-SG,NSE:771AP42-SG,NSE:771AP39-SG,NSE:771AP37-SG,NSE:GABRIEL-EQ,NSE:767KL34-SG,NSE:761TN32-SG,NSE:761HR32-SG,NSE:762BR32-SG,NSE:753HR30-SG,NSE:DREAMFOLKS-EQ,NSE:66UP30-SG,NSE:GVPTECH-EQ,NSE:GRMOVER-EQ,NSE:HDFCSILVER-EQ,NSE:SFMP64DD-MF,NSE:SFMP64DR-MF,NSE:SFMP64GD-MF,NSE:SFMP64GR-MF,NSE:JFLLIFE-SM,NSE:KORE-SM,NSE:DBOL-EQ,NSE:AMEYA-SM,NSE:684MZ34-SG,NSE:745TS30-SG,NSE:747TS31-SG,NSE:GENESYS-EQ,NSE:753AS32-SG,NSE:758PN42-SG,NSE:758AP40-SG,NSE:758GA37-SG,NSE:758AP42-SG,NSE:675KA34-SG,NSE:753BR32-SG,NSE:GODREJIND-EQ,NSE:736GS2052-GS,NSE:JUNIORBEES-EQ,NSE:DIVISLAB-EQ,NSE:TMB-EQ,NSE:STCINDIA-EQ,NSE:679MP40-SG,NSE:745HR32-SG,NSE:745BR32-SG,NSE:746MP32-SG,NSE:748HP33-SG,NSE:749HP34-SG,NSE:75HP36-SG,NSE:75HP37-SG,NSE:745AP40-SG,NSE:745AP42-SG,NSE:746TS48-SG,NSE:746TS49-SG,NSE:745SK32-SG,NSE:VIVIANA-SM,NSE:MEGAFLEX-SM,NSE:68TS50A-SG,NSE:74GS2062-GS,NSE:SABAR-SM,NSE:TAPIFRUIT-SM,NSE:RADICO-EQ,NSE:INDORAMA-EQ,NSE:ISHAN-SM,NSE:MARUTI-EQ,NSE:GARFIBRES-EQ,NSE:LIQUIDBEES-EQ,NSE:ABINFRA-SM,NSE:INFOBEAN-EQ,NSE:SANGINITA-BE,NSE:BANKIETF-EQ,NSE:DCMNVL-EQ,NSE:SATIA-EQ,NSE:SIRCA-EQ,NSE:KSOLVES-EQ,NSE:SECURKLOUD-BE,NSE:NATHBIOGEN-EQ,NSE:AGRITECH-EQ,NSE:LIBAS-EQ,NSE:755BR32-SG,NSE:755AS32-SG,NSE:757JK34-SG,NSE:758GA37A-SG,NSE:DANGEE-EQ,NSE:SUMIT-BE,NSE:SHRENIK-EQ,NSE:SGBJUL27-GB,NSE:CREATIVE-EQ,NSE:756WB39-SG,NSE:756TS40-SG,NSE:756WB42-SG,NSE:HARSHA-EQ,NSE:COFFEEDAY-EQ,NSE:CLOUD-SM,NSE:IDFCFIRSTB-EQ,NSE:SGBAUG30-GB,NSE:AXISILVER-EQ,NSE:INDIGO-EQ,NSE:ANNAPURNA-SM,NSE:KANDARP-SM,NSE:SHK-EQ,NSE:NOIDATOLL-BE,NSE:TIMESGTY-BE,NSE:MAKS-SM,NSE:VARDHACRLC-EQ,NSE:UCOBANK-EQ,NSE:1035UCL24-N6,NSE:1050UCL25-N7,NSE:SUVEN-EQ,NSE:JSL-EQ,NSE:NSIL-EQ,NSE:HDFCGROWTH-EQ,NSE:PERFECT-SM,NSE:WELSPUNLIV-EQ,NSE:HDFCQUAL-EQ,NSE:HDFCVALUE-EQ,NSE:IGL-EQ,NSE:TVSELECT-EQ,NSE:RADAAN-BE,NSE:GHCL-EQ,NSE:DREDGECORP-EQ,NSE:749GJ26-SG,NSE:TVTODAY-EQ,NSE:768PN42-SG,NSE:762MH30A-SG,NSE:771AP34-SG,NSE:769BR32-SG,NSE:769GA32-SG,NSE:767HR32-SG,NSE:764MH32-SG,NSE:771MN32-SG,NSE:UPL-EQ,NSE:765RJ32A-SG,NSE:768UP32-SG,NSE:768WB32-SG,NSE:769KL40-SG,NSE:UNIENTER-EQ,NSE:778MZ37-SG,NSE:772WB38-SG,NSE:SIL-EQ,NSE:76AP28-SG,NSE:LUXIND-EQ,NSE:BALAXI-EQ,NSE:905IH24A-YU,NSE:905IHF24-YV,NSE:LICNETFN50-EQ,NSE:IHFL22A-YW,NSE:833IHFL24-YX,NSE:MUKANDLTD-EQ,NSE:87IHFL24-YY,NSE:88IHFL25-YZ,NSE:93IHFL25-Z1,NSE:847IHFL25-Z2,NSE:894IHFL25-Z3,NSE:905IHFL27-Z4,NSE:AFFLE-EQ,NSE:GTECJAINX-BE,NSE:PETRONET-EQ,NSE:955IHFL27-Z5,NSE:PTC-EQ,NSE:87IHFL27-Z6,NSE:DHANBANK-BE,NSE:915IHFL27-Z7,NSE:VAIBHAVGBL-EQ,NSE:865IHF24B-Z8,NSE:905IH24B-Z9,NSE:TTKHLTCARE-EQ,NSE:BIOCON-EQ,NSE:TIPSFILMS-EQ,NSE:MAHABANK-EQ,NSE:APOLLO-BE,NSE:PVTBANIETF-EQ,NSE:UMANGDAIRY-EQ,NSE:GICHSGFIN-EQ,NSE:776MH30-SG,NSE:ZOTA-EQ,NSE:SALZERELEC-EQ,NSE:775GJ32-SG,NSE:778MZ32-SG,NSE:POONAWALLA-EQ,NSE:779RJ32-SG,NSE:779TN32-SG,NSE:XPROINDIA-EQ,NSE:781UP32-SG,NSE:784TS34-SG,NSE:RKFORGE-EQ,NSE:782AP35-SG,NSE:783TS35-SG,NSE:783TS36-SG,NSE:77PN42-SG,NSE:774AP42-SG,NSE:774RJ42-SG,NSE:GINNIFILA-EQ,NSE:DATAMATICS-EQ,NSE:77KL47-SG,NSE:NDTV-EQ,NSE:SDL24BEES-EQ,NSE:KRITINUT-EQ,NSE:SPANDANA-EQ,NSE:BANKBEES-EQ,NSE:LICNETFSEN-EQ,NSE:PILANIINVS-EQ,NSE:CMRSL-SM,NSE:GIPCL-EQ,NSE:CCL-EQ,NSE:NV20-EQ,NSE:JPASSOCIAT-EQ,NSE:QMSMEDI-SM,NSE:EXCELINDUS-EQ,NSE:LLOYDS-SM,NSE:LT-EQ,NSE:KRIDHANINF-BE,NSE:APARINDS-EQ,NSE:SWASTIK-SM,NSE:AMBICAAGAR-EQ,NSE:FROG-SM,NSE:785AS32A-SG,NSE:781GJ32-SG,NSE:783HR32-SG,NSE:785SK32-SG,NSE:785UK32-SG,NSE:CENTEXT-BE,NSE:785BR32-SG,NSE:785AP40-SG,NSE:785PN42-SG,NSE:SECURCRED-EQ,NSE:NIITLTD-EQ,NSE:GLAXO-EQ,NSE:EMIL-EQ,NSE:ULTRACEMCO-EQ,NSE:TCS-EQ,NSE:HDFCMOMENT-EQ,NSE:COFORGE-EQ,NSE:HDFCLOWVOL-EQ,NSE:TEXINFRA-EQ,NSE:HDFC1359DD-MF,NSE:HDFC1359DG-MF,NSE:HDFC1359DQ-MF,NSE:HDFC1359RD-MF,NSE:HDFC1359RG-MF,NSE:HDFC1359RQ-MF,NSE:DCI-BE,NSE:654AR30-SG,NSE:PPLPHARMA-EQ,NSE:FORCEMOT-EQ,NSE:649KA30A-SG,NSE:WESTLIFE-EQ,NSE:GULFPETRO-EQ,NSE:TRACXN-EQ,NSE:741GJ26-SG,NSE:762GJ29-SG,NSE:77MH30-SG,NSE:HDFCNIFTY-EQ,NSE:HDFCSENSEX-EQ")
}

response = fyers.quotes(data=data)
#print(response)
d=response['d']
print(d)
df = pd.DataFrame(d)
df.to_csv('symbol.csv')




#depth data
#data = {
#   "symbol":"MCX:SILVER24MARFUT",
#    "ohlcv_flag":"1"
#}

#response = fyers.depth(data=data)
#print(response)